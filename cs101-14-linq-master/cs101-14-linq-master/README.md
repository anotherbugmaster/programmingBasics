* [К оглавлению задачника](https://github.com/urfu-code/cs101-main)
* [Кодекс разработчика](https://docs.google.com/document/d/1w8C1VyDPh9_1DaGD6oDJWmHw8V6cWrr469CgMiLGmdE/edit#)

# Linq

В файле calendar.csv содержится информация о том, какие дни являются рабочими, а какие выходными или праздничными.

В файле load.csv — данные по нагрузке на техподдержку. Подобные данные называются [временными рядами](http://ru.wikipedia.org/wiki/%D0%92%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D0%BE%D0%B9_%D1%80%D1%8F%D0%B4).

Данные

## Статистика

Посчитайте среднее значение нагрузки в рабочий день и среднее значение в выходной день.
Не используйте при этом циклы!

Как обычно, постарайтесь не дублировать похожий код.

## Экспоненциальное сглаживание

Для отображения зашумленных временных рядов часто используютя различные алгоритмы сглаживания.
Один из таких алгоритмов — [экспоненциальное сглаживание](http://en.wikipedia.org/wiki/Exponential_smoothing#The_exponential_moving_average).

Если x[i] — значения исходного временного ряда, то результат экспоненциального сглаживания y[i] вычисляется так:

```
y[0] = x[0]
y[i] = a*x[i] + (1-a)*y[i-1]
```
где a — параметр экспоненциального сглаживания (`0 < a < 1`)

Напишите метод-расширение экспоненциального сглаживания временного ряда:
```
IEnumerable<double> ExponentialSmooth(this IEnumerable<double> x, double a)
```
С помощью методов Chart.ShowLines отобразите на одном графике исходный ряд и сглаженные ряды с различными коффициентами
— 0.5, 0.9, 0.95.

Подумайте, нельзя ли избежать использования циклов и в этой задаче?


## Гистограмма нагрузки

[Гистограмма](http://ru.wikipedia.org/wiki/%D0%93%D0%B8%D1%81%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B0) нагрузки показывает как часто бывают дни с тем или иным значением нагрузки.
(Зависимость частоты величины нагрузки от интервала в который попало велечина нагрузки)

Вы уже сталкивались в гистограммами в одной из прошлых задач.

Для построения красивых гистограмм важно правильно выбрать количество столбцов.
Для этого существует [правило Стёрджесса](http://ru.wikipedia.org/wiki/%D0%9F%D1%80%D0%B0%D0%B2%D0%B8%D0%BB%D0%BE_%D0%A1%D1%82%D1%91%D1%80%D0%B4%D0%B6%D0%B5%D1%81%D0%B0),
которое гласит, что количество столбцов гистограммы, отображающей данные по N точкам должно быть 1+log2(N).

Напишите метод-расширение подготовки данных для построения гистограммы:
```
IEnumerable<DataPoint> ToHistogramData(this IList<int> data)
```

Подготовьте данные для построения гистограмм отдельно по нагрузке в выходные дни и в будни.
Постройте гистограммы с помощью метода Chart.ShowHistogram(...)

И опять вам запрещено использовать циклы.
